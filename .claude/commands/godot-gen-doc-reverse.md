---
name: godot-gen-doc-reverse
description: 代码逆向分析生成设计文档
argument-hint: "[分析主题]"
---

## 功能说明

通过分析现有 Godot 项目代码，逆向推导并生成相应的游戏设计文档。该工具适用于代码重构、文档补全和项目交接等场景。

## 执行步骤

1. **参数验证**：
   - 检查用户是否提供了分析主题参数
   - 如未提供参数，提示用户指定需要分析的主题方向

2. **项目信息收集**：
   - @godot-architect 读取项目配置文件 CLAUDE.md，了解项目基本信息和架构
   - 分析项目整体结构、技术栈和开发规范 use context7

3. **代码深度分析**：
   - @godot-architect 根据分析主题 $ARGUMENTS 读取相关代码文件 use context7
   - **功能识别**：分析代码实现的核心功能和业务逻辑
   - **架构解析**：理解代码的模块结构和设计模式
   - **依赖关系**：梳理各模块间的依赖和交互关系
   - **设计意图**：推测原始开发者的设计思路和实现目标

4. **主题归类与文档规划**：
   - @design-doc-writer 基于代码分析结果，确定主题和子主题的具体名称
   - 按照 `文档输出路径` 规范创建相应的目录结构和文件
   - 规划文档的组织结构和内容大纲

5. **设计文档生成**：
   - @design-doc-writer 基于代码分析结果，编写结构化的设计文档
   - **功能描述**：详细说明各模块的功能和作用
   - **架构说明**：解释系统的整体架构和设计思路
   - **实现细节**：描述关键算法和实现技术
   - **使用指南**：提供相应的使用和扩展指导

## 文档组织规范

### 目录结构
```
/docs/
├── {两位数字编号}_{主题}/
│   ├── {两位数字编号}_{子主题}.md
│   ├── {两位数字编号}_{子主题}.md
│   └── ...
```

### 命名规范
- **主题名称**：使用中文，简洁明确地表达文档内容
- **编号规则**：使用两位数字编号，便于排序和引用
- **文件格式**：统一使用 Markdown 格式（.md）

### 文档内容标准
- **结构清晰**：使用标准的 Markdown 语法和层次结构
- **内容完整**：涵盖功能描述、架构设计、实现要点等
- **易于理解**：使用清晰的语言和适当的示例说明