---
name: quick-commit
description: 快速智能分析项目代码变更，自动生成符合规范的commit消息，并用git提交commit。该命令专注于快速Git提交、变更记录和版本管理，通过简化流程快速分析代码变更内容、影响范围和修改意图，生成规范、简洁、实用的Git commit消息，适用于快速开发和迭代场景。
---

# 命令参数说明

- **简单描述** (可选): 提供一个简单的描述来指导commit消息生成，可以是：

  **快速类型**:
  - **f/feat**: 新功能 (feature)
  - **x/fix**: 修复bug (bug fix)
  - **d/docs**: 文档变更 (documentation)
  - **s/style**: 代码格式化 (formatting)
  - **r/refactor**: 代码重构 (refactor)
  - **p/perf**: 性能优化 (performance)
  - **t/test**: 测试相关 (tests)
  - **c/chore**: 构建或工具变更 (maintain)

  **简单描述**:
  - **功能描述**: 如 "登录"、"动画"、"UI"等关键词
  - **修复描述**: 如 "崩溃"、"卡顿"、"错误"等关键词
  - **优化描述**: 如 "速度"、"内存"、"性能"等关键词
  - **自定义**: 任何描述变更性质的关键词

# 执行步骤

**当前提交目标**: $ARGUMENTS

## 快速分析阶段
### 工具使用：Bash + sequential-thinking

1. **Git状态快速检查** (使用 Bash 工具)
   - 执行 `git status` 查看工作区状态
   - 快速识别变更文件数量和类型
   - 检查是否有未暂存的重要变更
   - 分析当前分支状态

2. **变更内容快速扫描** (使用 Bash 工具)
   - 执行 `git diff --name-only` 获取变更文件列表
   - 执行 `git diff --stat` 获取变更统计信息
   - 快速扫描核心文件的变更内容
   - 根据 **$1** 提示识别主要变更模式和类型

3. **意图快速推断** (使用 sequential-thinking 工具)
   - 根据文件扩展名和路径推断变更类型
   - 基于 **$1** 提示和变更模式快速判断主要目的
   - 确定最合适的commit类型和范围
   - 生成简洁准确的变更描述

## 消息生成阶段
### 工具使用：sequential-thinking

1. **类型自动确定** (使用 sequential-thinking 工具)
   - 基于文件变更自动选择commit类型
   - 根据 **$1** 参数提示调整类型选择
   - 确保类型与变更内容匹配
   - 优化类型的准确性

2. **标题快速生成** (使用 sequential-thinking 工具)
   - 基于 **$1** 生成简洁明了的commit标题
   - 确保标题包含核心变更信息
   - 控制标题长度在合理范围内
   - 使用统一的语言和术语

3. **描述优化** (使用 sequential-thinking 工具)
   - 为 **$1** 相关的复杂变更添加简要说明
   - 包含必要的上下文信息
   - 确保描述的准确性和实用性
   - 优化可读性和搜索性

## 输出执行阶段
### 工具使用：Bash

1. **命令生成** (使用 Bash 工具)
   - 生成可直接使用的git add命令并执行
   - 生成格式化的git commit命令并执行

### commit消息

**输出格式**:
```git
<type>: <subject>
```

**示例输出**:
```git
feat: 添加用户登录功能

fix: 修复按钮点击无响应问题

refactor: 重构用户管理模块
```

# 约束与限制条件

## 快速分析约束

### 分析精度约束
- **深度限制**: 快速分析可能遗漏某些细节
- **上下文**: 无法深入理解复杂的业务逻辑
- **影响范围**: 对大范围变更的评估可能不够全面
- **依赖关系**: 跨模块依赖的分析可能不够深入

### 消息简洁约束
- **信息密度**: 为保证简洁，可能省略某些细节
- **个性化**: 消息风格相对统一，个性化程度有限
- **详细程度**: 复杂变更的详细说明可能不够充分
- **技术深度**: 技术细节的描述可能比较简略
- **禁止消息**: 禁止出现```🤖 Generated with [Claude Code](https://claude.com/claude-code)```和```Co-Authored-By: Claude <noreply@anthropic.com>```

### 使用场景约束
- **变更复杂度**: 适合简单到中等复杂度的变更
- **团队规范**: 可能与特定团队的详细规范存在差异
- **项目特殊性**: 对特殊项目的特定约定支持有限
- **历史一致性**: 与历史commit的一致性可能需要人工确认
