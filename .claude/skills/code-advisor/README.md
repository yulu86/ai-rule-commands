# Code Advisor - 代码审查与质量分析技能

## 技能简介

Code Advisor 是一个综合性的代码审查和质量分析技能，能够检视各种编程语言的代码，识别潜在问题，提供具体的修改建议，并集成context7进行API和SDK文档查询。

## 主要功能

- 🔍 **全面的代码审查**: 支持 JavaScript、Python、Java、C++ 等多种编程语言
- 🛡️ **安全漏洞检测**: 识别 SQL 注入、XSS、命令注入等安全问题
- ⚡ **性能优化建议**: 分析算法复杂度，提供性能优化方案
- 📊 **代码质量评估**: 评估可维护性、可读性、测试覆盖率等指标
- 📋 **结构化报告**: 生成详细的代码审查报告和改进行动计划
- 🔗 **文档集成**: 使用 context7 获取最新的 API 和 SDK 文档

## 技能结构

```
code-advisor/
├── SKILL.md                    # 技能主文件
├── README.md                   # 技能说明文档
├── scripts/                    # 自动化分析脚本
│   ├── analyze_complexity.py   # 代码复杂度分析
│   └── security_scan.py        # 安全漏洞扫描
├── references/                 # 参考文档和指南
│   ├── CHECKLIST.md           # 代码审查检查清单
│   ├── BEST_PRACTICES.md      # 编程最佳实践
│   ├── javascript-guide.md    # JavaScript 审查指南
│   └── python-guide.md        # Python 审查指南
└── assets/                     # 模板和资源
    └── report-template.md     # 代码质量报告模板
```

## 使用方法

### 基本代码审查
1. 提供需要审查的代码文件或代码片段
2. 说明代码的用途和业务背景
3. 指定关注的重点（安全、性能、可维护性等）
4. 获得详细的问题分析和改进建议

### 自动化分析
使用提供的脚本进行自动化分析：
```bash
# 分析代码复杂度
python scripts/analyze_complexity.py /path/to/code

# 扫描安全漏洞
python scripts/security_scan.py /path/to/code
```

### 报告生成
基于分析结果生成结构化的代码质量报告，包含：
- 问题优先级分类
- 具体修改建议
- 代码示例对比
- 改进行动计划

## 支持的编程语言

### 主要支持
- **JavaScript/TypeScript**: 前端和 Node.js 代码
- **Python**: 后端 API、数据处理、机器学习
- **Java**: 企业级应用、Android 开发
- **C/C++**: 系统编程、嵌入式开发

### 扩展支持
- **Go**: 微服务、云原生应用
- **Rust**: 系统编程、安全关键应用
- **PHP**: Web 应用开发
- **C#**: .NET 应用开发

## 审查维度

### 🔴 高优先级问题
- **安全漏洞**: SQL 注入、XSS、权限绕过、敏感信息泄露
- **稳定性问题**: 异常处理不当、内存泄漏、并发安全问题
- **严重性能问题**: 算法复杂度过高、资源泄漏

### 🟡 中优先级问题
- **性能优化**: 算法效率、资源使用、缓存策略
- **代码质量**: 可维护性、可读性、测试覆盖
- **设计问题**: 架构设计、接口设计、模块耦合

### 🟢 低优先级问题
- **代码规范**: 命名规范、格式风格、文档完整性
- **最佳实践**: 设计模式使用、编程习惯

## 工具集成

### Context7 集成
当遇到不熟悉的 API 或 SDK 时，自动使用 context7 获取最新文档：
- 查询 API 使用方法
- 获取最佳实践建议
- 了解版本兼容性信息

### 静态分析工具
结合现有的静态分析工具：
- ESLint (JavaScript)
- Pylint (Python)
- SonarQube (多语言)
- CodeClimate (多语言)

## 报告示例

### 问题分类
```markdown
## 🔴 高优先级问题

### 1. [安全漏洞] SQL注入风险
**位置**: `models/user.py:45`  
**严重程度**: 高  
**问题**: 直接拼接 SQL 语句，存在注入风险  
**建议**: 使用参数化查询或 ORM
```

### 性能分析
```markdown
### 1. [性能问题] 算法复杂度过高
**位置**: `utils/data_processor.py:23`  
**时间复杂度**: O(n²) → O(n)  
**建议**: 使用哈希表优化查找操作
```

## 最佳实践

### 代码审查流程
1. **准备阶段**: 了解代码背景和业务需求
2. **分析阶段**: 系统性检查各个方面的问题
3. **报告阶段**: 生成详细的分析报告
4. **跟进阶段**: 跟踪问题修复和改进情况

### 持续改进
- 定期更新检查清单和最佳实践
- 根据新的安全威胁更新检测规则
- 收集用户反馈，优化审查流程
- 扩展对新语言和框架的支持

## 贡献指南

欢迎贡献代码改进建议、新的检查规则、语言支持指南等：

1. 在 `references/` 目录添加新的指南文档
2. 在 `scripts/` 目录添加新的分析工具
3. 更新 `CHECKLIST.md` 添加新的检查点
4. 改进报告模板和分析流程

## 技术支持

如有问题或建议，请：
- 查看详细的文档和指南
- 使用自动化工具进行初步分析
- 结合 context7 获取最新的技术信息
- 参考最佳实践指南进行代码改进

---

**版本**: 1.0.0  
**最后更新**: 2024年  
**维护者**: Code Advisor Team