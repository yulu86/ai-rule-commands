---
name: code-advisor
description: 智能代码助手技能，专门处理代码编写、实现、检视和解释任务。当用户输入"实现代码"、"编写代码"、"输出代码"、"检视代码"、"解释代码"等关键词时触发，使用multi-model-advisor工具调用qwen3-coder:30b模型生成高质量代码，有效减少token消耗。支持多种编程语言的代码生成、代码审查、bug修复和代码解释。
---

# 代码智能助手 (Code Advisor)

## 触发条件

当用户输入以下任一关键词时触发此技能：
- "实现代码"
- "编写代码"
- "输出代码"
- "检视代码"
- "解释代码"

## 核心工作流程

### 步骤1: 调用Multi-Model Advisor
**必须**使用`mcp__multi-model-advisor__query-models`工具，配置如下：
- **模型**: `qwen3-coder:30b`
- **系统提示**: 根据具体任务类型调整：
  - 代码生成: "你是一个专业的软件开发工程师，擅长编写高质量、可维护的代码。请生成符合最佳实践的代码。"
  - 代码检视: "你是一个资深代码审查专家，擅长发现代码问题、性能瓶颈和安全漏洞。请进行全面的代码审查。"
  - 代码解释: "你是一个技术专家，擅长用清晰易懂的语言解释复杂代码的功能和设计思路。"

### 步骤2: 处理不确定知识
如果对代码语法、SDK或相关技术不熟悉：
- 使用`mcp__context7__resolve-library-id`解析库名称
- 使用`mcp__context7__get-library-docs`获取最新文档

### 步骤3: 输出优化
- 确保输出格式清晰、易读
- 提供必要的注释和说明
- 遵循编码规范和最佳实践

## 任务类型处理

### 代码实现
- 理解需求并生成完整代码
- 包含必要的错误处理
- 添加适当的注释和文档

### 代码编写
- 根据 specifications 编写功能代码
- 考虑性能优化和可扩展性
- 遵循特定语言的编码风格

### 代码检视
- 分析代码质量和结构
- 识别潜在问题和改进点
- 提供具体的优化建议

### 代码解释
- 解释代码的功能和逻辑
- 分析设计模式和架构思路
- 提供学习价值和最佳实践指导

## 模型配置优化

### 减少Token消耗策略
1. **精准提问**: 明确具体需求，避免模糊描述
2. **分步处理**: 复杂任务分解为多个小步骤
3. **上下文控制**: 只提供必要的代码上下文
4. **输出精简**: 避免生成冗余的注释和说明

### 系统提示词模板
根据任务动态选择合适的系统提示词，确保模型专注于特定任务类型。

## 使用示例

### 代码生成场景
用户输入: "实现代码 - 写一个Python函数来计算斐波那契数列"

处理流程:
1. 识别为代码生成任务
2. 调用multi-model-advisor with qwen3-coder:30b
3. 使用代码生成系统提示词
4. 输出完整且优化的Python代码

### 代码审查场景
用户输入: "检视代码 - 请审查这段JavaScript代码的性能"

处理流程:
1. 识别为代码检视任务
2. 分析提供的代码
3. 调用multi-model-advisor进行专业审查
4. 输出详细的问题分析和改进建议

## 注意事项

- **始终优先使用qwen3-coder:30b模型**
- **遇到不确定的技术问题时主动查询context7**
- **保持输出简洁，减少不必要的token消耗**
- **确保代码质量和安全性**