# 01_角色基础移动系统

## 一句话目标
作为动作游戏玩家，我希望能够使用WASD键控制角色在游戏世界中移动，以便探索环境和参与战斗。

## 业务价值（Why）
- **对玩家**：提供直观的角色控制体验，是游戏交互的基础
- **对版本里程碑**：核心玩法系统的前置依赖，影响所有后续功能的实现

## 验收标准（AC）
使用Given-When-Then列表，必须100%可测量

1. Given 玩家在游戏场景中，When 按下W键，Then 角色在0.1秒内开始向前移动
2. Given 玩家在游戏场景中，When 同时按下W和D键，Then 角色沿对角线方向移动且速度保持一致
3. Given 角色移动中，When 松开所有移动键，Then 角色在0.2秒内停止移动
4. Given 角色遇到障碍物，When 继续移动，Then 角色被阻挡无法穿过障碍物
5. Given 游戏运行在60FPS，When 角色持续移动，Then 移动动画播放流畅无卡顿

## 依赖 & 前置条件
- **系统**：输入管理系统已实现，物理引擎已配置
- **资源**：角色模型idle动画、walk动画已导入
- **法律**：角色设计已通过版权审查

## 输入 & 输出清单
- **输入**：键盘输入事件（WASD键）、游戏手柄输入
- **输出**：角色位置变化、移动动画状态、物理碰撞事件

## 资源需求
| 类型 | 文件名说明 | 备注 |
|---|---|---|
| 脚本 | player_controller.gd | 角色控制逻辑 |
| 场景 | Player.tscn | 角色场景文件 |
| 动画 | idle.anim | 待机动画 |
| 动画 | walk.anim | 行走动画 |
| 纹理 | character_spritesheet.png | 角色精灵图 |

## UI/UX 简图
[角色移动示意图]
- 8方向移动指示器
- 角色精灵图
- 移动轨迹预览

## 测试建议
- **自动化**：PlayerController.IsMoving()函数单元测试覆盖率≥95%
- **兼容性**：测试QWERTY和AZERTY键盘布局差异
- **性能**：角色移动逻辑CPU占用<1ms

## 故事点 & 优先级
- **故事点**：3
- **优先级**：P0（MVP必需）
- **MoSCoW**：Must have

## 任务拆解（Sub-task）
- **代码**：实现PlayerController脚本，处理输入和移动逻辑
- **动画**：制作角色待机和行走动画，配置动画状态机
- **物理**：设置角色碰撞体，配置物理层和碰撞组
- **QA**：编写移动功能测试用例，验证边界情况
- **集成**：将角色控制器集成到主游戏场景