{
    "$schema": "https://opencode.ai/config.json",
    "enabled_providers": [
        "ollama",
        "zhipuai-coding-plan",
        "deepseek",
        "moonshotai-cn",
        "modelscope"
    ],
    "model": "zhipuai-coding-plan/glm-5",
    "small_model": "zhipuai-coding-plan/glm-4.5-air",
    "provider": {
        "ollama": {
            "npm": "@ai-sdk/openai-compatible",
            "name": "Ollama (local)",
            "options": {
                "baseURL": "http://localhost:11434/v1"
            },
            "models": {
                "glm-4.7-flash:latest": {
                    "name": "GLM-4.7-flash"
                },
                "qwen2.5:7b": {
                    "name": "Qwen-2.5-7b"
                }
            }
        }
    },
    "watcher": {
        "ignore": [
            "node_modules/**",
            "dist/**",
            ".git/**",
            ".idea/**",
            ".godot/**",
            ".vscode/**"
        ]
    },
    "theme": "github",
    "permission": {
        "read": "allow",
        "edit": "allow",
        "bash": {
            "echo": "deny",
            "git push": "deny",
            "git status": "allow",
            "git diff": "allow",
            "git add": "ask",
            "git commit": "ask",
            "git checkout": "ask",
            "npm run build": "allow",
            "ls": "allow",
            "pwd": "allow",
            "rm": "ask"
        },
        "skill": "ask",
        "webfetch": "allow",
        "doom_loop": "ask",
        "external_directory": "ask"
    },
    "mcp": {
        "time": {
            "type": "local",
            "command": [
                "uvx",
                "mcp-server-time"
            ],
            "enabled": true
        },
        "sequential-thinking": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "@modelcontextprotocol/server-sequential-thinking"
            ]
        },
        "tavily-mcp": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "tavily-mcp"
            ],
            "environment": {
                "TAVILY_API_KEY": "{env:TAVILY_API_KEY}"
            }
        },
        "context7": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "@upstash/context7-mcp"
            ],
            "environment": {
                "api-key": "{env:CONTEXT7_API_KEY}"
            }
        },
        "chrome-devtools": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "chrome-devtools-mcp"
            ]
        },
        // 视觉理解
        "zai-mcp-server": {
            "type": "local",
            "command": [
                "npx",
                "-y",
                "@z_ai/mcp-server"
            ],
            "environment": {
                "Z_AI_API_KEY": "{env:ZHIPU_API_KEY}",
                "Z_AI_MODE": "ZHIPU"
            }
        },
        // 开源仓库读取
        "zread": {
            "type": "remote",
            "url": "https://open.bigmodel.cn/api/mcp/zread/mcp",
            "headers": {
                "Authorization": "Bearer {env:ZHIPU_API_KEY}"
            }
        }
    },
    "plugin": [
        "oh-my-opencode"
    ]
}